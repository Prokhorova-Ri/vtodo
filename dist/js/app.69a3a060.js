(function(){"use strict";var t={9941:function(t,e,s){var a=s(9242),n=s(3396);const i={id:"app"},o={class:"container"};function r(t,e,s,a,r,l){const d=(0,n.up)("NavBar"),c=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(d),(0,n._)("div",o,[(0,n.Wm)(c)])])}const l=t=>((0,n.dD)("data-v-3a806e82"),t=t(),(0,n.Cn)(),t),d={class:"deep-purple lighten-1"},c={class:"nav-wrapper"},u=(0,n.Uk)("Список задач"),p={class:"links"},f=l((()=>(0,n._)("a",{class:"link",href:"/list"},"Форма",-1))),h=l((()=>(0,n._)("a",{class:"link",href:"#"},"Список",-1)));function k(t,e,s,a,i,o){const r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",d,[(0,n._)("div",c,[(0,n.Wm)(r,{to:"/",class:"brand-logo",exact:"","active-class":"active"},{default:(0,n.w5)((()=>[u])),_:1}),(0,n._)("ul",p,[(0,n.Wm)(r,{to:"/",exact:"","active-class":"active"},{default:(0,n.w5)((()=>[f])),_:1}),(0,n.Wm)(r,{to:"/List","active-class":"active"},{default:(0,n.w5)((()=>[h])),_:1})])])])}var m={},v=s(89);const _=(0,v.Z)(m,[["render",k],["__scopeId","data-v-3a806e82"]]);var b=_,g={components:{NavBar:b}};const w=(0,v.Z)(g,[["render",r]]);var y=w,D=s(5431);(0,D.z)("/vtodo/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var x=s(678),T=s(7139);const O={class:"row"},z={class:"col s6 offset-s3"},I=(0,n._)("h2",null,"Создать задачу",-1),S={class:"input-field"},$=(0,n._)("label",{for:"title"},"Название",-1),C=(0,n._)("span",{class:"helper-text","data-error":"Введите название"},null,-1),H={class:"input-field"},N=(0,n._)("label",{for:"description"},"Описание",-1),j={class:"character-counter",style:{float:"right","font-size":"12px"},maxlength:"2000"},U={type:"text",ref:"datepicker"},W=(0,n._)("button",{class:"btn",type:"submit"},"Создать",-1);function A(t,e,s,i,o,r){return(0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",z,[I,(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>r.submitHandler&&r.submitHandler(...t)),["prevent"]))},[(0,n._)("div",S,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.title=e),id:"title",type:"text",class:"validate",required:""},null,512),[[a.nr,t.title]]),$,C,(0,n._)("div",H,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.description=e),id:"description",class:"materialize-textarea"},null,512),[[a.nr,t.description]]),N,(0,n._)("span",j,(0,T.zw)(t.description.length)+"/2000",1)])]),(0,n._)("input",U,null,512),W],32)])])}var B=s(5797),F=s.n(B),L={name:"HomeOne",data:()=>({description:"",title:""}),mounted(){F().AutoInit(),this.date=F().Datepicker.init(this.$refs.datepicker,{format:"dd.mm.yyyy",defaultDate:new Date,setDefaultDate:!0})},methods:{submitHandler(){const t={title:this.title,description:this.description,id:Date.now(),status:"активная",date:this.date.date};this.$store.dispatch("createTask",t),this.$router.push("/List")}},unmounted(){this.date&&this.date.destroy&&this.date.destroy()}};const M=(0,v.Z)(L,[["render",A]]);var Z=M;const q=t=>((0,n.dD)("data-v-ef9b4798"),t=t(),(0,n.Cn)(),t),J=q((()=>(0,n._)("div",null,[(0,n._)("h2",null,"Список активных задач")],-1))),V={class:"row"},P={class:"input__filter col s6"},E=q((()=>(0,n._)("option",{value:"",disabled:"",selected:""},"Выбрать статус задач",-1))),Y=q((()=>(0,n._)("option",{value:"активная"},"Активные",-1))),K=q((()=>(0,n._)("option",{value:"просрочена"},"Просроченые",-1))),G=q((()=>(0,n._)("option",{value:"завершена"},"Завершенные",-1))),Q=[E,Y,K,G],R=q((()=>(0,n._)("label",null,"Сортировать по статусу",-1))),X=q((()=>(0,n._)("hr",null,null,-1))),tt={key:1},et=q((()=>(0,n._)("thead",{class:"thead"},[(0,n._)("tr",null,[(0,n._)("th",null,"#"),(0,n._)("th",null,"Название"),(0,n._)("th",null,"Дата"),(0,n._)("th",null,"Описание"),(0,n._)("th",null,"Статус"),(0,n._)("th",null,"Открыть"),(0,n._)("th",null,"Удалить")])],-1))),st={class:"td"},at={class:"text"},nt={class:"td-btn"},it=(0,n.Uk)("Открыть"),ot={class:"td-btn"},rt=["onClick"],lt={key:2};function dt(t,e,s,i,o,r){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[J,(0,n._)("div",V,[(0,n._)("div",P,[(0,n.wy)((0,n._)("select",{ref:"select","onUpdate:modelValue":e[0]||(e[0]=e=>t.filter=e)},Q,512),[[a.bM,t.filter]]),R])]),t.filter?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn btn-small",onClick:e[1]||(e[1]=e=>t.filter=null)}," Очистить фильтр ")):(0,n.kq)("",!0),X,r.tasks.length?((0,n.wg)(),(0,n.iD)("table",tt,[et,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.displayTasks,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",null,(0,T.zw)(e+1),1),(0,n._)("td",null,(0,T.zw)(t.title),1),(0,n._)("td",null,(0,T.zw)(new Date(t.date).toLocaleDateString()),1),(0,n._)("td",st,[(0,n._)("div",at,(0,T.zw)(t.description),1)]),(0,n._)("td",null,(0,T.zw)(t.status),1),(0,n._)("td",nt,[(0,n.Wm)(l,{class:"btn btn-small",to:"task"+t.id},{default:(0,n.w5)((()=>[it])),_:2},1032,["to"])]),(0,n._)("td",ot,[(0,n._)("button",{class:"btn btn-small purple",onClick:e=>r.deleteTask(t)}," Удалить ",8,rt)])])))),128))])])):((0,n.wg)(),(0,n.iD)("p",lt,"Нет активных задач"))],64)}var ct={data:()=>({filter:null}),computed:{tasks(){return this.$store.getters.tasks},displayTasks(){return this.tasks.filter((t=>!this.filter||t.status===this.filter))}},mounted(){F().FormSelect.init(this.$refs.select)},methods:{deleteTask:function(t){this.tasks.splice(t,1)}}};const ut=(0,v.Z)(ct,[["render",dt],["__scopeId","data-v-ef9b4798"]]);var pt=ut;const ft=t=>((0,n.dD)("data-v-31f7bf5d"),t=t(),(0,n.Cn)(),t),ht={class:"row"},kt={key:0,class:"col s6 offset-s3"},mt={class:"input-field"},vt={class:"input-field"},_t=ft((()=>(0,n._)("label",{for:"description"},"Описание",-1))),bt={class:"character-counter",style:{float:"right","font-size":"12px"},maxlength:"2000"},gt={type:"text",ref:"datepicker"},wt={key:0},yt=ft((()=>(0,n._)("button",{class:"btn",type:"submit"},"Обновить",-1))),Dt={key:1};function xt(t,e,s,i,o,r){return(0,n.wg)(),(0,n.iD)("div",ht,[r.task?((0,n.wg)(),(0,n.iD)("div",kt,[(0,n._)("h1",null,(0,T.zw)(r.task.title),1),(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>r.submitHandler&&r.submitHandler(...t)),["prevent"]))},[(0,n._)("div",mt,[(0,n._)("div",vt,[(0,n.wy)((0,n._)("textarea",{style:{"min-height":"200px"},"onUpdate:modelValue":e[0]||(e[0]=e=>t.description=e),id:"description",class:"materialize-textarea"},null,512),[[a.nr,t.description]]),_t,(0,n._)("span",bt,(0,T.zw)(t.description.length)+"/2000",1)])]),(0,n._)("input",gt,null,512),"completed"!=r.task.status?((0,n.wg)(),(0,n.iD)("div",wt,[yt,(0,n._)("button",{class:"btn purple",type:"button",onClick:e[1]||(e[1]=(...t)=>r.completeTask&&r.completeTask(...t))}," Завершить ")])):(0,n.kq)("",!0)],32)])):((0,n.wg)(),(0,n.iD)("p",Dt,"задачи нет"))])}var Tt={computed:{task(){return this.$store.getters.taskById(+this.$route.params.id)}},data:()=>({description:""}),mounted(){this.description=this.task.description,F().AutoInit(),this.date=F().Datepicker.init(this.$refs.datepicker,{format:"dd.mm.yyyy",defaultDate:new Date(this.task.date),setDefaultDate:!0}),setTimeout((()=>{F().updateTextFields()}),0)},methods:{submitHandler(){this.$store.dispatch("updateTask",{id:this.task.id,description:this.description,date:this.date.date}),this.$router.push("/List")},completeTask(){this.$store.dispatch("completeTask",this.task.id),this.$router.push("/List")}},unmounted(){this.date&&this.date.destroy&&this.date.destroy()}};const Ot=(0,v.Z)(Tt,[["render",xt],["__scopeId","data-v-31f7bf5d"]]);var zt=Ot,It=(0,x.p7)({history:(0,x.PO)("/vtodo/"),routes:[{path:"/",component:Z},{path:"/list",component:pt},{path:"/task:id",component:zt}]}),St=s(65),$t=(0,St.MT)({state:{tasks:JSON.parse(localStorage.getItem("tasks")||"[]").map((t=>(new Date(t.date)<new Date&&(t.status="просрочена"),t)))},mutations:{createTask(t,e){t.tasks.push(e),localStorage.setItem("tasks",JSON.stringify(t.tasks))},updateTask(t,{id:e,description:s,date:a}){const n=t.tasks.concat(),i=n.findIndex((t=>t.id===e)),o=n[i],r=new Date(a)>new Date?"активная":"просрочена";n[i]={...o,date:a,description:s,status:r},t.tasks=n,localStorage.setItem("tasks",JSON.stringify(t.tasks))},completeTask(t,e){const s=t.tasks.findIndex((t=>t.id===e));t.tasks[s].status="завершена",localStorage.setItem("tasks",JSON.stringify(t.tasks))}},actions:{createTask({commit:t},e){t("createTask",e)},updateTask({commit:t},e){t("updateTask",e)},completeTask({commit:t},e){t("completeTask",e)}},modules:{},getters:{tasks:t=>t.tasks,taskById:t=>e=>t.tasks.find((t=>t.id===e))}});s(5778);(0,a.ri)(y).use($t).use(It).mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var o=1/0;for(c=0;c<t.length;c++){a=t[c][0],n=t[c][1],i=t[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,i<o&&(o=i));if(r){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,o=a[0],r=a[1],l=a[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var c=l(s)}for(e&&e(a);d<o.length;d++)i=o[d],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(c)},a=self["webpackChunkvtodo"]=self["webpackChunkvtodo"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9941)}));a=s.O(a)})();
//# sourceMappingURL=app.69a3a060.js.map